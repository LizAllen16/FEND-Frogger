var Enemy=function(e,t){this.sprite="images/enemy-bug.png",this.speed=Math.ceil(250*Math.random()),this.x=e,this.y=t};Enemy.prototype.update=function(e){this.x=this.x+this.speed*e,this.x>505&&(this.x=-100)},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)};var hitBox=25,Hero=function(){this.sprite="images/char-cat-girl.png",this.speed=100,this.x=200,this.y=400,this.hitDetect=function(){for(i=0;i<allEnemies.length;i++)this.y<=allEnemies[i].y+hitBox&&this.x<=allEnemies[i].x+hitBox&&allEnemies[i].y<=this.y+hitBox&&allEnemies[i].x<=this.x+hitBox&&(reset(),Enemy.speed=Math.ceil(250*Math.random()))}},Rock=function(){this.sprite="images/Rock.png",this.speed=150,this.x=200,this.y=-15};Rock.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Rock.prototype.update=function(e){this.x+=this.speed*e,this.x>505&&(this.x=-100),player.y<=this.y+hitBox&&player.x<=this.x+hitBox&&this.y<=player.y+hitBox&&this.x<=player.x+hitBox&&(this.x=player.x,this.y=player.y)},Hero.prototype.update=function(e){this.y>400&&(this.y=400,this.x=200),this.y<-30&&(this.y=400,this.x=200),this.x>400&&(this.x-=100),this.x<0&&(this.x+=100),player.hitDetect(),levelUp()},Hero.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Hero.prototype.handleInput=function(e){"up"===e&&(this.y-=83),"down"===e&&(this.y+=83),"left"===e&&(this.x-=100),"right"===e&&(this.x+=100)};var allEnemies=[],player=new Hero,rock1=new Rock,beetleCreator=function(e){for(var t=65,i=0,s=0;e>s;s++)allEnemies[s]=new Enemy(i,t),t+=83,t>231&&(t=65),i+=Math.floor(120*Math.random())};beetleCreator(3);var reset=function(){player.y=400,player.x=200},levelUp=function(e){if(player.y<=rock1.y+hitBox&&player.x<=rock1.x+hitBox&&rock1.y<=player.y+hitBox&&rock1.x<=player.x+hitBox)for(beetle in allEnemies){var t=5;allEnemies[beetle].speed+=t,setTimeout(reset,1e3),setTimeout(rock1.update,1e3),t+=5,swal({title:"LEVEL UP!",text:"The bugs are currently over caffeinating. You ready for the next level?",confirmButtonText:"I was born ready.",imageURL:"/images/Star.png"})}};document.addEventListener("keyup",function(e){var t={37:"left",38:"up",39:"right",40:"down"};player.handleInput(t[e.keyCode])});